<ng-container *mobxAutorun>
    <div class="container">
    <div class="data-table" *ngIf="!store.loading">
        <table *ngIf="!store.empty" mat-table [dataSource]="store?.data.slice()" class="mat-elevation-z8">
         
            <ng-container matColumnDef="pvillage">
              <th mat-header-cell *matHeaderCellDef> ភូមិ </th>
              <td mat-cell *matCellDef="let element"> {{element?.pvillage}} </td>
            </ng-container>
            <ng-container matColumnDef="pcommune">
                <th mat-header-cell *matHeaderCellDef> ខណ្ឌ </th>
                <td mat-cell *matCellDef="let element"> {{element?.pcommune}} </td>
              </ng-container>
            <ng-container matColumnDef="pdistrict">
              <th mat-header-cell *matHeaderCellDef> សង្កាត់ </th>
              <td mat-cell *matCellDef="let element"> {{element?.pdistrict}} </td>
            </ng-container>

            <ng-container matColumnDef="pprovince">
              <th mat-header-cell *matHeaderCellDef> រាជធានី </th>
              <td mat-cell *matCellDef="let element"> {{element?.pprovince}} </td>
            </ng-container>
            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> ចុះបញ្ជីដោយ </th>
                <td mat-cell *matCellDef="let element"> {{element.createBy?.email}} </td>
              </ng-container>
  
              <ng-container matColumnDef="action">
                  <th mat-header-cell *matHeaderCellDef></th>
                  <td mat-cell *matCellDef="let element">
                      <button mat-icon-button [matMenuTriggerFor]="menu">
                          <mat-icon>more_vert</mat-icon>
                        </button>
                        <mat-menu #menu="matMenu">
                          <button (click)="delete(element)" mat-menu-item>
                            <mat-icon>delete</mat-icon>
                            <span>Delete</span>
                          </button>
                          <button (click)="update(element)"mat-menu-item >
                            <mat-icon>settings</mat-icon>
                            <span>Edit</span>
                          </button>
                        </mat-menu>  
                  </td>
                </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
    </div>
          
  
      <div class="empty" *ngIf="store?.empty">អាសយដ្ឋានមិនទាន់មាន ឬគ្នានអិនទេណែត!</div>
    </div>
    <mat-progress-bar mode="buffer" *ngIf="store.loading"></mat-progress-bar>
  </ng-container>
  